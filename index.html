<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Skeleton RPG – iOS Fixed</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html,body{
 margin:0;
 padding:0;
 background:#000;
 overflow:hidden;
}
canvas{
 display:block;
}
#ui{
 position:fixed;
 top:10px;
 left:10px;
 color:white;
 font-family:monospace;
 background:rgba(0,0,0,.6);
 padding:8px;
 border-radius:6px;
 z-index:10;
}
</style>
</head>
<body>

<div id="ui">Loading…</div>
<canvas id="game"></canvas>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

function resize(){
 canvas.width=window.innerWidth;
 canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

// ===== PLAYER =====
let player={
 x:100,
 y:200,
 vx:0,
 vy:0,
 hp:100,
 mana:100,
 jumps:2
};

let gravity=0.6;
let keys={};

// ===== INPUT =====
window.addEventListener("keydown",e=>keys[e.key]=true);
window.addEventListener("keyup",e=>keys[e.key]=false);

// ===== GAME LOOP =====
function update(){
 // Move
 if(keys["ArrowLeft"]) player.vx=-2;
 if(keys["ArrowRight"]) player.vx=2;
 if(!keys["ArrowLeft"]&&!keys["ArrowRight"]) player.vx*=0.8;

 // Jump
 if(keys["ArrowUp"] && player.jumps>0){
  player.vy=-8;
  player.jumps--;
  keys["ArrowUp"]=false;
 }

 // Physics
 player.vy+=gravity;
 player.x+=player.vx;
 player.y+=player.vy;

 // Ground
 if(player.y>200){
  player.y=200;
  player.vy=0;
  player.jumps=2;
 }
}

function draw(){
 // Background
 ctx.fillStyle="#111";
 ctx.fillRect(0,0,canvas.width,canvas.height);

 // Ground
 ctx.fillStyle="#335522";
 ctx.fillRect(0,230,canvas.width,40);

 // Skeleton (PIXEL ART)
 ctx.fillStyle="#eee";
 ctx.fillRect(player.x,player.y-20,10,10); // head
 ctx.fillRect(player.x+3,player.y-10,4,15); // body
 ctx.fillRect(player.x-4,player.y-5,4,10); // left arm
 ctx.fillRect(player.x+10,player.y-5,4,10); // right arm
 ctx.fillRect(player.x,player.y+5,4,12); // left leg
 ctx.fillRect(player.x+6,player.y+5,4,12); // right leg

 // UI
 document.getElementById("ui").innerText=
  `HP:${player.hp}  Mana:${player.mana}
← → Move   ↑ Double Jump`;
}

function loop(){
 update();
 draw();
 requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
